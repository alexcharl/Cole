function FastClick(i,e){"use strict";var t;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=i,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(i)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],n=0,o=r.length;n<o;n++)this[r[n]]=a(this[r[n]],this);deviceIsAndroid&&(i.addEventListener("mouseover",this.onMouse,!0),i.addEventListener("mousedown",this.onMouse,!0),i.addEventListener("mouseup",this.onMouse,!0)),i.addEventListener("click",this.onClick,!0),i.addEventListener("touchstart",this.onTouchStart,!1),i.addEventListener("touchmove",this.onTouchMove,!1),i.addEventListener("touchend",this.onTouchEnd,!1),i.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(i.removeEventListener=function(e,t,r){var n=Node.prototype.removeEventListener;"click"===e?n.call(i,e,t.hijacked||t,r):n.call(i,e,t,r)},i.addEventListener=function(e,t,r){var n=Node.prototype.addEventListener;"click"===e?n.call(i,e,t.hijacked||(t.hijacked=function(e){e.propagationStopped||t(e)}),r):n.call(i,e,t,r)}),"function"==typeof i.onclick&&(t=i.onclick,i.addEventListener("click",function(e){t(e)},!1),i.onclick=null)}function a(e,t){return function(){return e.apply(t,arguments)}}}!function(){function e(){}for(var t,r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=r.length,i=window.console=window.console||{};n--;)i[t=r[n]]||(i[t]=e)}(),window.Modernizr=function(e,d,o){function t(e){m.cssText=e}function a(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var r in e){var n=e[r];if(!i(n,"-")&&m[n]!==o)return"pfx"!=t||n}return!1}function n(e,t,r){var n=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+y.join(n+" ")+n).split(" ");return a(t,"string")||a(t,"undefined")?s(i,t):function(e,t,r){for(var n in e){var i=t[e[n]];if(i!==o)return!1===r?e[n]:a(i,"function")?i.bind(r||t):i}return!1}(i=(e+" "+b.join(n+" ")+n).split(" "),t,r)}function l(e,t,r,n){var i,o,a,s,l=d.createElement("div"),c=d.body,u=c||d.createElement("body");if(parseInt(r,10))for(;r--;)(a=d.createElement("div")).id=n?n[r]:f+(r+1),l.appendChild(a);return i=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),l.id=f,(c?l:u).innerHTML+=i,u.appendChild(l),c||(u.style.background="",u.style.overflow="hidden",s=h.style.overflow,h.style.overflow="hidden",h.appendChild(u)),o=t(l,e),c?l.parentNode.removeChild(l):(u.parentNode.removeChild(u),h.style.overflow=s),!!o}var r,c,u={},h=d.documentElement,f="modernizr",p=d.createElement(f),m=p.style,g=" -webkit- -moz- -o- -ms- ".split(" "),v="Webkit Moz O ms",y=v.split(" "),b=v.toLowerCase().split(" "),w={},S=[],x=S.slice,C={}.hasOwnProperty;for(var k in c=a(C,"undefined")||a(C.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return C.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(n){var i=this;if("function"!=typeof i)throw new TypeError;var o=x.call(arguments,1),a=function(){if(this instanceof a){function e(){}e.prototype=i.prototype;var t=new e,r=i.apply(t,o.concat(x.call(arguments)));return Object(r)===r?r:t}return i.apply(n,o.concat(x.call(arguments)))};return a}),w.canvas=function(){var e=d.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},w.touch=function(){var t;return"ontouchstart"in e||e.DocumentTouch&&d instanceof DocumentTouch?t=!0:l(["@media (",g.join("touch-enabled),("),f,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){t=9===e.offsetTop}),t},w.rgba=function(){return t("background-color:rgba(150,255,150,.5)"),i(m.backgroundColor,"rgba")},w.cssanimations=function(){return n("animationName")},w.csstransforms=function(){return!!n("transform")},w.csstransforms3d=function(){var r=!!n("perspective");return r&&"webkitPerspective"in h.style&&l("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,t){r=9===e.offsetLeft&&3===e.offsetHeight}),r},w.csstransitions=function(){return n("transition")},w)c(w,k)&&(r=k.toLowerCase(),u[r]=w[k](),S.push((u[r]?"":"no-")+r));return u.addTest=function(e,t){if("object"==typeof e)for(var r in e)c(e,r)&&u.addTest(r,e[r]);else{if(e=e.toLowerCase(),u[e]!==o)return u;t="function"==typeof t?t():t,h.className+=" "+(t?"":"no-")+e,u[e]=t}return u},t(""),p=null,function(e,l){function c(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function u(e){var t=s[e[n]];return t||(t={},a++,e[n]=a,s[a]=t),t}function d(e,t,r){return t=t||l,f?t.createElement(e):!(n=(r=r||u(t)).cache[e]?r.cache[e].cloneNode():o.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e)).canHaveChildren||i.test(e)||n.tagUrn?n:r.frag.appendChild(n);var n}function t(e){var t,r,n,i,o,a,s=u(e=e||l);return!p.shivCSS||h||s.hasCSS||(s.hasCSS=(i="article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}",o=(n=e).createElement("p"),a=n.getElementsByTagName("head")[0]||n.documentElement,o.innerHTML="x<style>"+i+"</style>",!!a.insertBefore(o.lastChild,a.firstChild))),f||(t=e,(r=s).cache||(r.cache={},r.createElem=t.createElement,r.createFrag=t.createDocumentFragment,r.frag=r.createFrag()),t.createElement=function(e){return p.shivMethods?d(e,t,r):r.createElem(e)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-]+/g,function(e){return r.createElem(e),r.frag.createElement(e),'c("'+e+'")'})+");return n}")(p,r.frag)),e}var h,f,r=e.html5||{},i=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,n="_html5shiv",a=0,s={};!function(){try{var e=l.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,f=1==e.childNodes.length||function(){l.createElement("a");var e=l.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){f=h=!0}}();var p={elements:r.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==r.shivCSS,supportsUnknownElements:f,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:t,createElement:d,createDocumentFragment:function(e,t){if(e=e||l,f)return e.createDocumentFragment();for(var r=(t=t||u(e)).frag.cloneNode(),n=0,i=c(),o=i.length;n<o;n++)r.createElement(i[n]);return r}};e.html5=p,t(l)}(this,d),u._version="2.7.1",u._prefixes=g,u._domPrefixes=b,u._cssomPrefixes=y,u.testProp=function(e){return s([e])},u.testAllProps=n,u.testStyles=l,h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+S.join(" "),u}(this,this.document),function(h){var f={},r="doTimeout",p=Array.prototype.slice;function n(e){var t,r=this,n={},i=e?h.fn:h,o=arguments,a=4,s=o[1],l=o[2],c=o[3];function u(){e?t.removeData(e):s&&delete f[s]}function d(){n.id=setTimeout(function(){n.fn()},l)}if("string"!=typeof s&&(a--,s=e=0,l=o[1],c=o[2]),e?(t=r.eq(0)).data(e,n=t.data(e)||{}):s&&(n=f[s]||(f[s]={})),n.id&&clearTimeout(n.id),delete n.id,c)n.fn=function(e){"string"==typeof c&&(c=i[c]),!0!==c.apply(r,p.call(o,a))||e?u():d()},d();else{if(n.fn)return void 0===l?u():n.fn(!1===l),!0;u()}}h[r]=function(){return n.apply(window,[0].concat(p.call(arguments)))},h.fn[r]=function(){var e=p.call(arguments),t=n.apply(this,[r+e[0]].concat(e));return"number"==typeof e[0]||"number"==typeof e[1]?this:t}}(jQuery),function(e,u){var n,t=e.jQuery||e.Cowboy||(e.Cowboy={});t.throttle=n=function(i,o,a,s){var l,c=0;function e(){var e=this,t=new Date-c,r=arguments;function n(){c=+new Date,a.apply(e,r)}s&&!l&&n(),l&&clearTimeout(l),s===u&&i<t?n():!0!==o&&(l=setTimeout(s?function(){l=u}:n,s===u?i-t:i))}return"boolean"!=typeof o&&(s=a,a=o,o=u),t.guid&&(e.guid=a.guid=a.guid||t.guid++),e},t.debounce=function(e,t,r){return r===u?n(e,t,!1):n(e,r,!1!==t)}}(this);var deviceIsAndroid=0<navigator.userAgent.indexOf("Android"),deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=0<navigator.userAgent.indexOf("BB10");function PointerEventsPolyfill(e){if(this.options={selector:"*",mouseEvents:["click","dblclick","mousedown","mouseup"],usePolyfillIf:function(){if("Microsoft Internet Explorer"==navigator.appName&&(null!=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/)&&parseFloat(RegExp.$1)<11))return!0;return!1}},e){var r=this;$.each(e,function(e,t){r.options[e]=t})}this.options.usePolyfillIf()&&this.register_mouse_events()}FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var r,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],(r=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,e.dispatchEvent(r)},FastClick.prototype.determineEventType=function(e){"use strict";return deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,r;if(!(t=e.fastClickScrollParent)||!t.contains(e)){r=e;do{if(r.scrollHeight>r.offsetHeight){t=r,e.fastClickScrollParent=r;break}r=r.parentElement}while(r)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,r,n;if(1<e.targetTouches.length)return!0;if(t=this.getTargetElementFromEventTarget(e.target),r=e.targetTouches[0],deviceIsIOS){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!deviceIsIOS4){if(r.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=r.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=r.pageX,this.touchStartY=r.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],r=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>r||Math.abs(t.pageY-this.touchStartY)>r},FastClick.prototype.onTouchMove=function(e){"use strict";return this.trackingClick&&(this.targetElement===this.getTargetElementFromEventTarget(e.target)&&!this.touchHasMoved(e)||(this.trackingClick=!1,this.targetElement=null)),!0},FastClick.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,r,n,i,o,a=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(o=e.changedTouches[0],(a=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||a).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=a.tagName.toLowerCase())){if(t=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=t}}else if(this.needsFocus(a))return 100<e.timeStamp-r||deviceIsIOS&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(a),this.sendClick(a,e),deviceIsIOS&&"select"===n||(this.targetElement=null,e.preventDefault())),!1;return!(!deviceIsIOS||deviceIsIOS4||!(i=a.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop)||(this.needsClick(a)||(e.preventDefault(),this.sendClick(a,e)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,r,n;if(void 0===window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(31<r&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction},FastClick.attach=function(e,t){"use strict";return new FastClick(e,t)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,PointerEventsPolyfill.initialize=function(e){return null==PointerEventsPolyfill.singleton&&(PointerEventsPolyfill.singleton=new PointerEventsPolyfill(e)),PointerEventsPolyfill.singleton},PointerEventsPolyfill.prototype.register_mouse_events=function(){$(document).on(this.options.mouseEvents.join(" "),this.options.selector,function(e){if("none"!=$(this).css("pointer-events"))return!0;var t=$(this).css("display");$(this).css("display","none");var r=document.elementFromPoint(e.clientX,e.clientY);return t?$(this).css("display",t):$(this).css("display",""),e.target=r,$(r).trigger(e),!1})},function(){function e(){}function o(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,n=this,i=n.EventEmitter;r.getListeners=function(e){var t,r,n=this._getEvents();if("object"==typeof e)for(r in t={},n)n.hasOwnProperty(r)&&e.test(r)&&(t[r]=n[r]);else t=n[e]||(n[e]=[]);return t},r.flattenListeners=function(e){var t,r=[];for(t=0;e.length>t;t+=1)r.push(e[t].listener);return r},r.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&((t={})[e]=r),t||r},r.addListener=function(e,t){var r,n=this.getListenersAsObject(e),i="object"==typeof t;for(r in n)n.hasOwnProperty(r)&&-1===o(n[r],t)&&n[r].push(i?t:{listener:t,once:!1});return this},r.on=t("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=t("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var r,n,i=this.getListenersAsObject(e);for(n in i)i.hasOwnProperty(n)&&(-1!==(r=o(i[n],t))&&i[n].splice(r,1));return this},r.off=t("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,r){var n,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=r.length;n--;)o.call(this,t,r[n]);else for(n in t)t.hasOwnProperty(n)&&(i=t[n])&&("function"==typeof i?o.call(this,n,i):a.call(this,n,i));return this},r.removeEvent=function(e){var t,r=typeof e,n=this._getEvents();if("string"==r)delete n[e];else if("object"==r)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},r.removeAllListeners=t("removeEvent"),r.emitEvent=function(e,t){var r,n,i,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(n=o[i].length;n--;)!0===(r=o[i][n]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},r.trigger=t("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=i,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(r){function n(e){var t=r.event;return t.target=t.target||t.srcElement||e,t}var e=document.documentElement,t=function(){};e.addEventListener?t=function(e,t,r){e.addEventListener(t,r,!1)}:e.attachEvent&&(t=function(t,e,r){t[e+r]=r.handleEvent?function(){var e=n(t);r.handleEvent.call(r,e)}:function(){var e=n(t);r.call(t,e)},t.attachEvent("on"+e,t[e+r])});var i=function(){};e.removeEventListener?i=function(e,t,r){e.removeEventListener(t,r,!1)}:e.detachEvent&&(i=function(t,r,n){t.detachEvent("on"+r,t[r+n]);try{delete t[r+n]}catch(e){t[r+n]=void 0}});var o={bind:t,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",o):r.eventie=o}(this),function(r,n){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,t){return n(r,e,t)}):"object"==typeof exports?module.exports=n(r,require("eventEmitter"),require("eventie")):r.imagesLoaded=n(r,r.EventEmitter,r.eventie)}(this,function(e,t,r){function i(e,t){for(var r in t)e[r]=t[r];return e}function o(e){var t,r=[];if(t=e,"[object Array]"===d.call(t))r=e;else if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++)r.push(e[n]);else r.push(e);return r}function a(e,t,r){if(!(this instanceof a))return new a(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var n=this;setTimeout(function(){n.check()})}function n(e){this.img=e}function s(e){this.src=e,h[e]=this}var l=e.jQuery,c=e.console,u=void 0!==c,d=Object.prototype.toString;(a.prototype=new t).options={},a.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var r=this.elements[e];"IMG"===r.nodeName&&this.addImage(r);for(var n=r.querySelectorAll("img"),i=0,o=n.length;i<o;i++){var a=n[i];this.addImage(a)}}},a.prototype.addImage=function(e){var t=new n(e);this.images.push(t)},a.prototype.check=function(){function e(e,t){return r.options.debug&&u&&c.log("confirm",e,t),r.progress(e),++n===i&&r.complete(),!0}var r=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,i)for(var t=0;t<i;t++){var o=this.images[t];o.on("confirm",e),o.check()}else this.complete()},a.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var r=this;setTimeout(function(){if(r.emit(t,r),r.emit("always",r),r.jqDeferred){var e=r.hasAnyBroken?"reject":"resolve";r.jqDeferred[e](r)}})},l&&(l.fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(l(this))}),(n.prototype=new t).check=function(){var e=h[this.img.src]||new s(this.img.src);if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var r=this;e.on("confirm",function(e,t){return r.confirm(e.isLoaded,t),!0}),e.check()}},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var h={};return(s.prototype=new t).check=function(){if(!this.isChecked){var e=new Image;r.bind(e,"load",this),r.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},s.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},s.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},s.prototype.unbindProxyEvents=function(e){r.unbind(e.target,"load",this),r.unbind(e.target,"error",this)},a}),function(t){t.fn.fittr=function(e){window.console&&window.console.log;var h=t.extend({container:"div",imgWidth:0,imgHeight:0,containerWidth:0,containerHeight:0,gap:{vertical:0,horizontal:0},align:{vertical:"top",horizontal:"left"},resizeType:"fit",autoResize:!0,forceDebounce:!1},e);return h.gap.vertical||(h.gap.vertical=0),h.gap.horizontal||(h.gap.horizontal=0),h.align.vertical||(h.align.vertical="top"),h.align.horizontal||(h.align.horizontal="left"),this.each(function(){var c=t(this),u=c.parents(h.container).first(),d=1;function e(){var e={width:0<parseInt(c.attr("width"))?parseInt(c.attr("width")):c.width(),height:0<parseInt(c.attr("height"))?parseInt(c.attr("height")):c.height()},t=0<h.imgWidth?h.imgWidth:e.width,r=0<h.imgHeight?h.imgHeight:e.height,n=0<h.containerWidth?h.containerWidth:u.width(),i=0<h.containerHeight?h.containerHeight:u.height(),o={width:n-h.gap.horizontal,height:i-h.gap.vertical},a=t/r,s=o.width/o.height;if("fit"==h.resizeType)var l={width:o.width<=o.height*a?o.width:o.height*a,height:o.width<=o.height*a?o.width/a:o.height,marginLeft:0,marginTop:0};else{u.css("overflow","hidden");l={width:s<=a?o.height*a:o.width,height:s<=a?o.height:o.width/a,marginLeft:0,marginTop:0}}"right"==h.align.horizontal?l.marginLeft=n-l.width:"center"==h.align.horizontal&&(l.marginLeft=(n-l.width)/2),"bottom"==h.align.vertical?l.marginTop=i-l.height:"middle"==h.align.vertical&&(l.marginTop=(i-l.height)/2),c.css(l),d++}e(),1==h.autoResize&&(10<d||1==h.forceDebounce?t(window).smartresize(e):t(window).resize(e))})}}(jQuery),function(e,t){jQuery.fn[t]=function(e){return e?this.bind("resize",(r=e,function(){var e=this,t=arguments;o?clearTimeout(o):i&&r.apply(e,t),o=setTimeout(function(){i||r.apply(e,t),o=null},n||100)})):this.trigger(t);var r,n,i,o}}(jQuery,"smartresize"),function(t){"use strict";function s(e){var t=e.length,r=u.type(e);return"function"!==r&&!u.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}if(!t.jQuery){var u=function(e,t){return new u.fn.init(e,t)};u.isWindow=function(e){return e&&e===e.window},u.type=function(e){return e?"object"==typeof e||"function"==typeof e?r[i.call(e)]||"object":typeof e:e+""},u.isArray=Array.isArray||function(e){return"array"===u.type(e)},u.isPlainObject=function(e){var t;if(!e||"object"!==u.type(e)||e.nodeType||u.isWindow(e))return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||n.call(e,t)},u.each=function(e,t,r){var n=0,i=e.length,o=s(e);if(r){if(o)for(;n<i&&!1!==t.apply(e[n],r);n++);else for(n in e)if(!1===t.apply(e[n],r))break}else if(o)for(;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},u.data=function(e,t,r){if(void 0===r){var n=e[u.expando],i=n&&a[n];if(void 0===t)return i;if(i&&t in i)return i[t]}else if(void 0!==t){var o=e[u.expando]||(e[u.expando]=++u.uuid);return a[o]=a[o]||{},a[o][t]=r}},u.removeData=function(e,t){var r=e[u.expando],n=r&&a[r];n&&(t?u.each(t,function(e,t){delete n[t]}):delete a[r])},u.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"!=typeof a&&"function"!==u.type(a)&&(a={}),s===l&&(a=this,s--);s<l;s++)if(i=arguments[s])for(n in i)e=a[n],a!==(r=i[n])&&(c&&r&&(u.isPlainObject(r)||(t=u.isArray(r)))?(o=t?(t=!1,e&&u.isArray(e)?e:[]):e&&u.isPlainObject(e)?e:{},a[n]=u.extend(c,o,r)):void 0!==r&&(a[n]=r));return a},u.queue=function(e,t,r){if(e){t=(t||"fx")+"queue";var n=u.data(e,t);return r?(!n||u.isArray(r)?n=u.data(e,t,(a=o||[],(i=r)&&(s(Object(i))?function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;)e[i++]=t[n++];if(r!=r)for(;void 0!==t[n];)e[i++]=t[n++];e.length=i}(a,"string"==typeof i?[i]:i):[].push.call(a,i)),a)):n.push(r),n):n||[]}var i,o,a},u.dequeue=function(e,i){u.each(e.nodeType?[e]:e,function(e,t){i=i||"fx";var r=u.queue(t,i),n=r.shift();"inprogress"===n&&(n=r.shift()),n&&("fx"===i&&r.unshift("inprogress"),n.call(t,function(){u.dequeue(t,i)}))})},u.fn=u.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],t=function(e){for(var t=e.offsetParent||document;t&&"html"!==t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}(e),r=this.offset(),n=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:u(t).offset();return r.top-=parseFloat(e.style.marginTop)||0,r.left-=parseFloat(e.style.marginLeft)||0,t.style&&(n.top+=parseFloat(t.style.borderTopWidth)||0,n.left+=parseFloat(t.style.borderLeftWidth)||0),{top:r.top-n.top,left:r.left-n.left}}};var a={};u.expando="velocity"+(new Date).getTime(),u.uuid=0;for(var r={},n=r.hasOwnProperty,i=r.toString,e="Boolean Number String Function Array Date RegExp Object Error".split(" "),o=0;o<e.length;o++)r["[object "+e[o]+"]"]=e[o].toLowerCase();u.fn.init.prototype=u.fn,t.Velocity={Utilities:u}}}(window),function(e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";return function(e,M,z,R){function p(e){return W.isWrapped(e)?e=[].slice.call(e):W.isNode(e)&&(e=[e]),e}function q(e){var t=B.data(e,"velocity");return null===t?R:t}function n(a,t,s,r){function n(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function l(e,t,r){return((n(t,r)*e+i(t,r))*e+o(t))*e}function c(e,t,r){return 3*n(t,r)*e*e+2*i(t,r)*e+o(t)}function u(e){for(var t=0,r=1,n=m-1;r!==n&&b[r]<=e;++r)t+=g;var i=t+(e-b[--r])/(b[r+1]-b[r])*g,o=c(i,a,s);return.001<=o?function(e,t){for(var r=0;r<h;++r){var n=c(t,a,s);if(0===n)return t;t-=(l(t,a,s)-e)/n}return t}(e,i):0===o?i:function(e,t,r){for(var n,i,o=0;0<(n=l(i=t+(r-t)/2,a,s)-e)?r=i:t=i,Math.abs(n)>f&&++o<p;);return i}(e,t,t+g)}function d(){w=!0,a===t&&s===r||function(){for(var e=0;e<m;++e)b[e]=l(e*g,a,s)}()}var h=4,f=1e-7,p=10,m=11,g=1/(m-1),e="Float32Array"in M;if(4!==arguments.length)return!1;for(var v=0;v<4;++v)if("number"!=typeof arguments[v]||isNaN(arguments[v])||!isFinite(arguments[v]))return!1;a=Math.min(a,1),s=Math.min(s,1),a=Math.max(a,0),s=Math.max(s,0);function y(e){return w||d(),a===t&&s===r?e:0===e?0:1===e?1:l(u(e),t,r)}var b=e?new Float32Array(m):new Array(m),w=!1;y.getControlPoints=function(){return[{x:a,y:t},{x:s,y:r}]};var S="generateBezier("+[a,t,s,r]+")";return y.toString=function(){return S},y}function D(e,t){var r=e;return W.isString(e)?U.Easings[e]||(r=!1):r=W.isArray(e)&&1===e.length?function(t){return function(e){return Math.round(e*t)*(1/t)}}.apply(null,e):W.isArray(e)&&2===e.length?a.apply(null,e.concat([t])):!(!W.isArray(e)||4!==e.length)&&n.apply(null,e),!1===r&&(r=U.Easings[U.defaults.easing]?U.defaults.easing:o),r}function _(e){if(e){var t=(new Date).getTime(),r=U.State.calls.length;1e4<r&&(U.State.calls=function(e){for(var t=-1,r=e?e.length:0,n=[];++t<r;){var i=e[t];i&&n.push(i)}return n}(U.State.calls),r=U.State.calls.length);for(var n=0;n<r;n++)if(U.State.calls[n]){var i=U.State.calls[n],o=i[0],a=i[2],s=i[3],l=!!s,c=null;s=s||(U.State.calls[n][3]=t-16);for(var u=Math.min((t-s)/a.duration,1),d=0,h=o.length;d<h;d++){var f=o[d],p=f.element;if(q(p)){var m=!1;if(a.display!==R&&null!==a.display&&"none"!==a.display){if("flex"===a.display){B.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(e,t){X.setPropertyValue(p,"display",t)})}X.setPropertyValue(p,"display",a.display)}for(var g in a.visibility!==R&&"hidden"!==a.visibility&&X.setPropertyValue(p,"visibility",a.visibility),f)if("element"!==g){var v,y=f[g],b=W.isString(y.easing)?U.Easings[y.easing]:y.easing;if(1===u)v=y.endValue;else{var w=y.endValue-y.startValue;if(v=y.startValue+w*b(u,a,w),!l&&v===y.currentValue)continue}if(y.currentValue=v,"tween"===g)c=v;else{var S;if(X.Hooks.registered[g]){S=X.Hooks.getRoot(g);var x=q(p).rootPropertyValueCache[S];x&&(y.rootPropertyValue=x)}var C=X.setPropertyValue(p,g,y.currentValue+(0===parseFloat(v)?"":y.unitType),y.rootPropertyValue,y.scrollData);X.Hooks.registered[g]&&(X.Normalizations.registered[S]?q(p).rootPropertyValueCache[S]=X.Normalizations.registered[S]("extract",null,C[1]):q(p).rootPropertyValueCache[S]=C[1]),"transform"===C[0]&&(m=!0)}}a.mobileHA&&q(p).transformCache.translate3d===R&&(q(p).transformCache.translate3d="(0px, 0px, 0px)",m=!0),m&&X.flushTransformCache(p)}}a.display!==R&&"none"!==a.display&&(U.State.calls[n][2].display=!1),a.visibility!==R&&"hidden"!==a.visibility&&(U.State.calls[n][2].visibility=!1),a.progress&&a.progress.call(i[1],i[1],u,Math.max(0,s+a.duration-t),s,c),1===u&&k(n)}}U.State.isTicking&&T(_)}function k(e,t){if(!U.State.calls[e])return!1;for(var r=U.State.calls[e][0],n=U.State.calls[e][1],i=U.State.calls[e][2],o=U.State.calls[e][4],a=!1,s=0,l=r.length;s<l;s++){var c=r[s].element;t||i.loop||("none"===i.display&&X.setPropertyValue(c,"display",i.display),"hidden"===i.visibility&&X.setPropertyValue(c,"visibility",i.visibility));var u=q(c);if(!0!==i.loop&&(B.queue(c)[1]===R||!/\.velocityQueueEntryFlag/i.test(B.queue(c)[1]))&&u){u.isAnimating=!1;var d=!(u.rootPropertyValueCache={});B.each(X.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,n=u.transformCache[t];u.transformCache[t]!==R&&new RegExp("^\\("+r+"[^.]").test(n)&&(d=!0,delete u.transformCache[t])}),i.mobileHA&&(d=!0,delete u.transformCache.translate3d),d&&X.flushTransformCache(c),X.Values.removeClass(c,"velocity-animating")}if(!t&&i.complete&&!i.loop&&s===l-1)try{i.complete.call(n,n)}catch(e){setTimeout(function(){throw e},1)}o&&!0!==i.loop&&o(n),u&&!0===i.loop&&!t&&(B.each(u.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var r=t.startValue;t.startValue=t.endValue,t.endValue=r}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),U(c,"reverse",{loop:!0,delay:i.delay})),!1!==i.queue&&B.dequeue(c,i.queue)}U.State.calls[e]=!1;for(var h=0,f=U.State.calls.length;h<f;h++)if(!1!==U.State.calls[h]){a=!0;break}!1===a&&(U.State.isTicking=!1,delete U.State.calls,U.State.calls=[])}var B,i,d=function(){if(z.documentMode)return z.documentMode;for(var e=7;4<e;e--){var t=z.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return R}(),t=(i=0,M.webkitRequestAnimationFrame||M.mozRequestAnimationFrame||function(e){var t,r=(new Date).getTime();return t=Math.max(0,16-(r-i)),i=r+t,setTimeout(function(){e(r+t)},t)}),W={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==R&&(0===e.length||"object"==typeof e[0]&&0<e[0].nodeType)},isWrapped:function(e){return e&&(e.jquery||M.Zepto&&M.Zepto.zepto.isZ(e))},isSVG:function(e){return M.SVGElement&&e instanceof M.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},r=!1;if(e.fn&&e.fn.jquery?(B=e,r=!0):B=M.Velocity.Utilities,d<=8&&!r)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(d<=7)){var o="swing",U={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:M.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:z.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:B,Redirects:{},Easings:{},Promise:M.Promise,defaults:{queue:"",duration:400,easing:o,begin:R,complete:R,progress:R,display:R,visibility:R,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){B.data(e,"velocity",{isSVG:W.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,patch:0},debug:!1};M.pageYOffset!==R?(U.State.scrollAnchor=M,U.State.scrollPropertyLeft="pageXOffset",U.State.scrollPropertyTop="pageYOffset"):(U.State.scrollAnchor=z.documentElement||z.body.parentNode||z.body,U.State.scrollPropertyLeft="scrollLeft",U.State.scrollPropertyTop="scrollTop");var a=function e(t,r,n){var i,o,a,s,l,c,u,d,h,f,p,m={x:-1,v:0,tension:null,friction:null},g=[0],v=0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,n=n||null,m.tension=t,m.friction=r,o=(i=null!==n)?(v=e(t,r))/n*.016:.016;l=o,c={dx:(s=a||m).v,dv:y(s)},u=b(s,.5*l,c),d=b(s,.5*l,u),h=b(s,l,d),f=1/6*(c.dx+2*(u.dx+d.dx)+h.dx),p=1/6*(c.dv+2*(u.dv+d.dv)+h.dv),s.x=s.x+f*l,s.v=s.v+p*l,a=s,g.push(1+a.x),v+=16,1e-4<Math.abs(a.x)&&1e-4<Math.abs(a.v););return i?function(e){return g[e*(g.length-1)|0]}:v};U.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},B.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){U.Easings[t[0]]=n.apply(null,t[1])});var X=U.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<X.Lists.colors.length;e++){var t="color"===X.Lists.colors[e]?"0 0 0 1":"255 255 255 1";X.Hooks.templates[X.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,n,i;if(d)for(r in X.Hooks.templates){i=(n=X.Hooks.templates[r])[0].split(" ");var o=n[1].match(X.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),o.push(o.shift()),X.Hooks.templates[r]=[i.join(" "),o.join(" ")])}for(r in X.Hooks.templates)for(var a in i=(n=X.Hooks.templates[r])[0].split(" ")){var s=r+i[a],l=a;X.Hooks.registered[s]=[r,l]}},getRoot:function(e){var t=X.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return X.RegEx.valueUnwrap.test(t)&&(t=t.match(X.RegEx.valueUnwrap)[1]),X.Values.isCSSNullValue(t)&&(t=X.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=X.Hooks.registered[e];if(r){var n=r[0],i=r[1];return(t=X.Hooks.cleanRootPropertyValue(n,t)).toString().match(X.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,r){var n=X.Hooks.registered[e];if(n){var i,o=n[0],a=n[1];return(i=(r=X.Hooks.cleanRootPropertyValue(o,r)).toString().match(X.RegEx.valueSplit))[a]=t,i.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var n;return n=X.RegEx.wrappedValueAlreadyExtracted.test(r)?r:(n=r.toString().match(X.RegEx.valueUnwrap))?n[1].replace(/,(\s+)?/g," "):r;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return U.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(r);if(!n&&0!==n){var i=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=i?i[1]:0}return n;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(d<=8)switch(e){case"name":return"filter";case"extract":var n=r.toString().match(/alpha\(opacity=(.*)\)/i);return n?n[1]/100:1;case"inject":return(t.style.zoom=1)<=parseFloat(r)?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return r}}},register:function(){d&&!(9<d)||U.State.isGingerbread||(X.Lists.transformsBase=X.Lists.transformsBase.concat(X.Lists.transforms3D));for(var e=0;e<X.Lists.transformsBase.length;e++)!function(){var i=X.Lists.transformsBase[e];X.Normalizations.registered[i]=function(e,t,r){switch(e){case"name":return"transform";case"extract":return q(t)===R||q(t).transformCache[i]===R?/^scale/i.test(i)?1:0:q(t).transformCache[i].replace(/[()]/g,"");case"inject":var n=!1;switch(i.substr(0,i.length-1)){case"translate":n=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":U.State.isAndroid&&q(t).transformCache[i]===R&&r<1&&(r=1),n=!/(\d)$/i.test(r);break;case"skew":n=!/(deg|\d)$/i.test(r);break;case"rotate":n=!/(deg|\d)$/i.test(r)}return n||(q(t).transformCache[i]="("+r+")"),q(t).transformCache[i]}}}();for(var t=0;t<X.Lists.colors.length;t++)!function(){var a=X.Lists.colors[t];X.Normalizations.registered[a]=function(e,t,r){switch(e){case"name":return a;case"extract":var n;if(X.RegEx.wrappedValueAlreadyExtracted.test(r))n=r;else{var i,o={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?i=o[r]!==R?o[r]:o.black:X.RegEx.isHex.test(r)?i="rgb("+X.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(i=o.black),n=(i||r).toString().match(X.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!d||8<d)&&3===n.split(" ").length&&(n+=" 1"),n;case"inject":return d<=8?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(d<=8?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||U.State.isAndroid&&!U.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(U.State.prefixMatches[e])return[U.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,n=t.length;r<n;r++){var i;if(i=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),W.isString(U.State.prefixElement.style[i]))return[U.State.prefixMatches[e]=i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return t+t+r+r+n+n}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,t,r,c){function u(e,t){var r=0;if(d<=8)r=B.css(e,t);else{var n=!1;/^(width|height)$/.test(t)&&0===X.getPropertyValue(e,"display")&&(n=!0,X.setPropertyValue(e,"display",X.Values.getDisplayType(e)));var i,o=function(){n&&X.setPropertyValue(e,"display","none")};if(!c){if("height"===t&&"border-box"!==X.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var a=e.offsetHeight-(parseFloat(X.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(X.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(X.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(X.getPropertyValue(e,"paddingBottom"))||0);return o(),a}if("width"===t&&"border-box"!==X.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var s=e.offsetWidth-(parseFloat(X.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(X.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(X.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(X.getPropertyValue(e,"paddingRight"))||0);return o(),s}}i=q(e)===R?M.getComputedStyle(e,null):q(e).computedStyle?q(e).computedStyle:q(e).computedStyle=M.getComputedStyle(e,null),"borderColor"===t&&(t="borderTopColor"),""!==(r=9===d&&"filter"===t?i.getPropertyValue(t):i[t])&&null!==r||(r=e.style[t]),o()}if("auto"===r&&/^(top|right|bottom|left)$/i.test(t)){var l=u(e,"position");("fixed"===l||"absolute"===l&&/top|left/i.test(t))&&(r=B(e).position()[t]+"px")}return r}var n;if(X.Hooks.registered[t]){var i=t,o=X.Hooks.getRoot(i);r===R&&(r=X.getPropertyValue(e,X.Names.prefixCheck(o)[0])),X.Normalizations.registered[o]&&(r=X.Normalizations.registered[o]("extract",e,r)),n=X.Hooks.extractValue(i,r)}else if(X.Normalizations.registered[t]){var a,s;"transform"!==(a=X.Normalizations.registered[t]("name",e))&&(s=u(e,X.Names.prefixCheck(a)[0]),X.Values.isCSSNullValue(s)&&X.Hooks.templates[t]&&(s=X.Hooks.templates[t][1])),n=X.Normalizations.registered[t]("extract",e,s)}if(!/^[\d-]/.test(n)){var l=q(e);if(l&&l.isSVG&&X.Names.SVGAttribute(t))if(/^(height|width)$/i.test(t))try{n=e.getBBox()[t]}catch(e){n=0}else n=e.getAttribute(t);else n=u(e,X.Names.prefixCheck(t)[0])}return X.Values.isCSSNullValue(n)&&(n=0),U.debug,n},setPropertyValue:function(e,t,r,n,i){var o=t;if("scroll"===t)i.container?i.container["scroll"+i.direction]=r:"Left"===i.direction?M.scrollTo(r,i.alternateValue):M.scrollTo(i.alternateValue,r);else if(X.Normalizations.registered[t]&&"transform"===X.Normalizations.registered[t]("name",e))X.Normalizations.registered[t]("inject",e,r),o="transform",r=q(e).transformCache[t];else{if(X.Hooks.registered[t]){var a=t,s=X.Hooks.getRoot(t);n=n||X.getPropertyValue(e,s),r=X.Hooks.injectValue(a,r,n),t=s}if(X.Normalizations.registered[t]&&(r=X.Normalizations.registered[t]("inject",e,r),t=X.Normalizations.registered[t]("name",e)),o=X.Names.prefixCheck(t)[0],d<=8)try{e.style[o]=r}catch(e){U.debug}else{var l=q(e);l&&l.isSVG&&X.Names.SVGAttribute(t)?e.setAttribute(t,r):e.style[o]=r}U.debug}return[o,r]},flushTransformCache:function(t){var r="",e=q(t);if((d||U.State.isAndroid&&!U.State.isChrome)&&e&&e.isSVG){var n=function(e){return parseFloat(X.getPropertyValue(t,e))},i={translate:[n("translateX"),n("translateY")],skewX:[n("skewX")],skewY:[n("skewY")],scale:1!==n("scale")?[n("scale"),n("scale")]:[n("scaleX"),n("scaleY")],rotate:[n("rotateZ"),0,0]};B.each(q(t).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(r+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var o,a;B.each(q(t).transformCache,function(e){return o=q(t).transformCache[e],"transformPerspective"===e?(a=o,!0):(9===d&&"rotateZ"===e&&(e="rotate"),void(r+=e+o+" "))}),a&&(r="perspective"+a+" "+r)}X.setPropertyValue(t,"transform",r)}};X.Hooks.register(),X.Normalizations.register(),U.hook=function(e,n,i){var o;return e=p(e),B.each(e,function(e,t){if(q(t)===R&&U.init(t),i===R)o===R&&(o=U.CSS.getPropertyValue(t,n));else{var r=U.CSS.setPropertyValue(t,n,i);"transform"===r[0]&&U.CSS.flushTransformCache(t),o=r}}),o};var m=function(){function e(){return t?O.promise||null:n}var r,t,n,i,j,L,$,o=arguments[0]&&(arguments[0].p||B.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||W.isString(arguments[0].properties));if(W.isWrapped(this)?(t=!1,i=0,n=j=this):(t=!0,i=1,j=o?arguments[0].elements||arguments[0].e:arguments[0]),j=p(j)){$=o?(L=arguments[0].properties||arguments[0].p,arguments[0].options||arguments[0].o):(L=arguments[i],arguments[i+1]);var A=j.length,F=0;if(!/^(stop|finish|finishAll)$/i.test(L)&&!B.isPlainObject($)){$={};for(var a=i+1;a<arguments.length;a++)W.isArray(arguments[a])||!/^(fast|normal|slow)$/i.test(arguments[a])&&!/^\d/.test(arguments[a])?W.isString(arguments[a])||W.isArray(arguments[a])?$.easing=arguments[a]:W.isFunction(arguments[a])&&($.complete=arguments[a]):$.duration=arguments[a]}var I,O={promise:null,resolver:null,rejecter:null};switch(t&&U.Promise&&(O.promise=new U.Promise(function(e,t){O.resolver=e,O.rejecter=t})),L){case"scroll":I="scroll";break;case"reverse":I="reverse";break;case"finish":case"finishAll":case"stop":B.each(j,function(e,t){q(t)&&q(t).delayTimer&&(clearTimeout(q(t).delayTimer.setTimeout),q(t).delayTimer.next&&q(t).delayTimer.next(),delete q(t).delayTimer),"finishAll"!==L||!0!==$&&!W.isString($)||(B.each(B.queue(t,W.isString($)?$:""),function(e,t){W.isFunction(t)&&t()}),B.queue(t,W.isString($)?$:"",[]))});var s=[];return B.each(U.State.calls,function(o,a){a&&B.each(a[1],function(e,n){var i=$===R?"":$;return!0!==i&&a[2].queue!==i&&($!==R||!1!==a[2].queue)||void B.each(j,function(e,t){if(t===n)if(!0!==$&&!W.isString($)||(B.each(B.queue(t,W.isString($)?$:""),function(e,t){W.isFunction(t)&&t(null,!0)}),B.queue(t,W.isString($)?$:"",[])),"stop"===L){var r=q(t);r&&r.tweensContainer&&!1!==i&&B.each(r.tweensContainer,function(e,t){t.endValue=t.currentValue}),s.push(o)}else"finish"!==L&&"finishAll"!==L||(a[2].duration=1)})})}),"stop"===L&&(B.each(s,function(e,t){k(t,!0)}),O.promise&&O.resolver(j)),e();default:if(!B.isPlainObject(L)||W.isEmptyObject(L)){if(W.isString(L)&&U.Redirects[L]){var l=(r=B.extend({},$)).duration,c=r.delay||0;return!0===r.backwards&&(j=B.extend(!0,[],j).reverse()),B.each(j,function(e,t){parseFloat(r.stagger)?r.delay=c+parseFloat(r.stagger)*e:W.isFunction(r.stagger)&&(r.delay=c+r.stagger.call(t,e,A)),r.drag&&(r.duration=parseFloat(l)||(/^(callout|transition)/.test(L)?1e3:400),r.duration=Math.max(r.duration*(r.backwards?1-e/A:(e+1)/A),.75*r.duration,200)),U.Redirects[L].call(t,t,r||{},e,A,j,O.promise?O:R)}),e()}var u="Velocity: First argument ("+L+") was not a property map, a known action, or a registered redirect. Aborting.";return O.promise&&O.rejecter(new Error(u)),e()}I="start"}var H={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},N=[];B.each(j,function(e,t){W.isNode(t)&&function(k,T){function r(e){var o,t;if(P.begin&&0===F)try{P.begin.call(j,j)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===I){var r,n,i,a=/^x$/i.test(P.axis)?"Left":"Top",s=parseFloat(P.offset)||0;P.container?W.isWrapped(P.container)||W.isNode(P.container)?(P.container=P.container[0]||P.container,i=(r=P.container["scroll"+a])+B(k).position()[a.toLowerCase()]+s):P.container=null:(r=U.State.scrollAnchor[U.State["scrollProperty"+a]],n=U.State.scrollAnchor[U.State["scrollProperty"+("Left"===a?"Top":"Left")]],i=B(k).offset()[a.toLowerCase()]+s),V={scroll:{rootPropertyValue:!1,startValue:r,currentValue:r,endValue:i,unitType:"",easing:P.easing,scrollData:{container:P.container,direction:a,alternateValue:n}},element:k},U.debug}else if("reverse"===I){if(!(o=q(k)))return;if(!o.tweensContainer)return void B.dequeue(k,P.queue);for(var l in"none"===o.opts.display&&(o.opts.display="auto"),"hidden"===o.opts.visibility&&(o.opts.visibility="visible"),o.opts.loop=!1,o.opts.begin=null,o.opts.complete=null,$.easing||delete P.easing,$.duration||delete P.duration,P=B.extend({},o.opts,P),t=B.extend(!0,{},o?o.tweensContainer:null))if("element"!==l){var c=t[l].startValue;t[l].startValue=t[l].currentValue=t[l].endValue,t[l].endValue=c,W.isEmptyObject($)||(t[l].easing=P.easing),U.debug}V=t}else if("start"===I){(o=q(k))&&o.tweensContainer&&!0===o.isAnimating&&(t=o.tweensContainer);var d=function(e,t){var r,n,i;return W.isArray(e)?(r=e[0],!W.isArray(e[1])&&/^[\d-]/.test(e[1])||W.isFunction(e[1])||X.RegEx.isHex.test(e[1])?i=e[1]:(W.isString(e[1])&&!X.RegEx.isHex.test(e[1])||W.isArray(e[1]))&&(n=t?e[1]:D(e[1],P.duration),e[2]!==R&&(i=e[2]))):r=e,t||(n=n||P.easing),W.isFunction(r)&&(r=r.call(k,T,A)),W.isFunction(i)&&(i=i.call(k,T,A)),[r||0,n,i]};for(var u in B.each(L,function(e,t){if(RegExp("^"+X.Lists.colors.join("$|^")+"$").test(X.Names.camelCase(e))){var r=d(t,!0),n=r[0],i=r[1],o=r[2];if(X.RegEx.isHex.test(n)){for(var a=["Red","Green","Blue"],s=X.Values.hexToRgb(n),l=o?X.Values.hexToRgb(o):R,c=0;c<a.length;c++){var u=[s[c]];i&&u.push(i),l!==R&&u.push(l[c]),L[X.Names.camelCase(e)+a[c]]=u}delete L[e]}}}),L){var h=d(L[u]),f=h[0],p=h[1],m=h[2];u=X.Names.camelCase(u);var g=X.Hooks.getRoot(u),v=!1;if(o&&o.isSVG||"tween"===g||!1!==X.Names.prefixCheck(g)[1]||X.Normalizations.registered[g]!==R){(P.display!==R&&null!==P.display&&"none"!==P.display||P.visibility!==R&&"hidden"!==P.visibility)&&/opacity|filter/.test(u)&&!m&&0!==f&&(m=0),P._cacheValues&&t&&t[u]?(m===R&&(m=t[u].endValue+t[u].unitType),v=o.rootPropertyValueCache[g]):X.Hooks.registered[u]?m===R?(v=X.getPropertyValue(k,g),m=X.getPropertyValue(k,u,v)):v=X.Hooks.templates[g][1]:m===R&&(m=X.getPropertyValue(k,u));var y,b,w,S=!1,x=function(e,t){var r;return[(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r=r||X.Values.getUnitType(e)]};m=(y=x(u,m))[0],w=y[1],f=(y=x(u,f))[0].replace(/^([+-\/*])=/,function(e,t){return S=t,""}),b=y[1],m=parseFloat(m)||0,f=parseFloat(f)||0,"%"===b&&(/^(fontSize|lineHeight)$/.test(u)?(f/=100,b="em"):/^scale/.test(u)?(f/=100,b=""):/(Red|Green|Blue)$/i.test(u)&&(f=f/100*255,b=""));if(/[\/*]/.test(S))b=w;else if(w!==b&&0!==m)if(0===f)b=w;else{E=E||function(){var e={myParent:k.parentNode||z.body,position:X.getPropertyValue(k,"position"),fontSize:X.getPropertyValue(k,"fontSize")},t=e.position===H.lastPosition&&e.myParent===H.lastParent,r=e.fontSize===H.lastFontSize;H.lastParent=e.myParent,H.lastPosition=e.position,H.lastFontSize=e.fontSize;var n={};if(r&&t)n.emToPx=H.lastEmToPx,n.percentToPxWidth=H.lastPercentToPxWidth,n.percentToPxHeight=H.lastPercentToPxHeight;else{var i=o&&o.isSVG?z.createElementNS("http://www.w3.org/2000/svg","rect"):z.createElement("div");U.init(i),e.myParent.appendChild(i),B.each(["overflow","overflowX","overflowY"],function(e,t){U.CSS.setPropertyValue(i,t,"hidden")}),U.CSS.setPropertyValue(i,"position",e.position),U.CSS.setPropertyValue(i,"fontSize",e.fontSize),U.CSS.setPropertyValue(i,"boxSizing","content-box"),B.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){U.CSS.setPropertyValue(i,t,"100%")}),U.CSS.setPropertyValue(i,"paddingLeft","100em"),n.percentToPxWidth=H.lastPercentToPxWidth=(parseFloat(X.getPropertyValue(i,"width",null,!0))||1)/100,n.percentToPxHeight=H.lastPercentToPxHeight=(parseFloat(X.getPropertyValue(i,"height",null,!0))||1)/100,n.emToPx=H.lastEmToPx=(parseFloat(X.getPropertyValue(i,"paddingLeft"))||1)/100,e.myParent.removeChild(i)}return null===H.remToPx&&(H.remToPx=parseFloat(X.getPropertyValue(z.body,"fontSize"))||16),null===H.vwToPx&&(H.vwToPx=parseFloat(M.innerWidth)/100,H.vhToPx=parseFloat(M.innerHeight)/100),n.remToPx=H.remToPx,n.vwToPx=H.vwToPx,n.vhToPx=H.vhToPx,U.debug,n}();var C=/margin|padding|left|right|width|text|word|letter/i.test(u)||/X$/.test(u)||"x"===u?"x":"y";switch(w){case"%":m*="x"==C?E.percentToPxWidth:E.percentToPxHeight;break;case"px":break;default:m*=E[w+"ToPx"]}switch(b){case"%":m*=1/("x"==C?E.percentToPxWidth:E.percentToPxHeight);break;case"px":break;default:m*=1/E[b+"ToPx"]}}switch(S){case"+":f=m+f;break;case"-":f=m-f;break;case"*":f*=m;break;case"/":f=m/f}V[u]={rootPropertyValue:v,startValue:m,currentValue:m,endValue:f,unitType:b,easing:p},U.debug}else U.debug}V.element=k}V.element&&(X.Values.addClass(k,"velocity-animating"),N.push(V),(o=q(k))&&(""===P.queue&&(o.tweensContainer=V,o.opts=P),o.isAnimating=!0),F===A-1?(U.State.calls.push([N,j,P,null,O.resolver]),!1===U.State.isTicking&&(U.State.isTicking=!0,_())):F++)}var E,P=B.extend({},U.defaults,$),V={};switch(q(k)===R&&U.init(k),parseFloat(P.delay)&&!1!==P.queue&&B.queue(k,P.queue,function(e){U.velocityQueueEntryFlag=!0,q(k).delayTimer={setTimeout:setTimeout(e,parseFloat(P.delay)),next:e}}),P.duration.toString().toLowerCase()){case"fast":P.duration=200;break;case"normal":P.duration=400;break;case"slow":P.duration=600;break;default:P.duration=parseFloat(P.duration)||1}!1!==U.mock&&(!0===U.mock?P.duration=P.delay=1:(P.duration*=parseFloat(U.mock)||1,P.delay*=parseFloat(U.mock)||1)),P.easing=D(P.easing,P.duration),P.begin&&!W.isFunction(P.begin)&&(P.begin=null),P.progress&&!W.isFunction(P.progress)&&(P.progress=null),P.complete&&!W.isFunction(P.complete)&&(P.complete=null),P.display!==R&&null!==P.display&&(P.display=P.display.toString().toLowerCase(),"auto"===P.display&&(P.display=U.CSS.Values.getDisplayType(k))),P.visibility!==R&&null!==P.visibility&&(P.visibility=P.visibility.toString().toLowerCase()),P.mobileHA=P.mobileHA&&U.State.isMobile&&!U.State.isGingerbread,!1===P.queue?P.delay?setTimeout(r,P.delay):r():B.queue(k,P.queue,function(e,t){return!0===t?(O.promise&&O.resolver(j),!0):(U.velocityQueueEntryFlag=!0,void r())}),""!==P.queue&&"fx"!==P.queue||"inprogress"===B.queue(k)[0]||B.dequeue(k)}(t,e)}),(r=B.extend({},U.defaults,$)).loop=parseInt(r.loop,10);var d=2*r.loop-1;if(r.loop)for(var h=0;h<d;h++){var f={delay:r.delay,progress:r.progress};h===d-1&&(f.display=r.display,f.visibility=r.visibility,f.complete=r.complete),m(j,"reverse",f)}return e()}};(U=B.extend(m,U)).animate=m;var T=M.requestAnimationFrame||t;return U.State.isMobile||z.hidden===R||z.addEventListener("visibilitychange",function(){z.hidden?(T=function(e){return setTimeout(function(){e(!0)},16)},_()):T=M.requestAnimationFrame||t}),e.Velocity=U,e!==M&&(e.fn.velocity=m,e.fn.velocity.defaults=U.defaults),B.each(["Down","Up"],function(e,d){U.Redirects["slide"+d]=function(r,e,t,n,i,o){var a=B.extend({},e),s=a.begin,l=a.complete,c={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},u={};a.display===R&&(a.display="Down"===d?"inline"===U.CSS.Values.getDisplayType(r)?"inline-block":"block":"none"),a.begin=function(){for(var e in s&&s.call(i,i),c){u[e]=r.style[e];var t=U.CSS.getPropertyValue(r,e);c[e]="Down"===d?[t,0]:[0,t]}u.overflow=r.style.overflow,r.style.overflow="hidden"},a.complete=function(){for(var e in u)r.style[e]=u[e];l&&l.call(i,i),o&&o.resolver(i)},U(r,c,a)}}),B.each(["In","Out"],function(e,c){U.Redirects["fade"+c]=function(e,t,r,n,i,o){var a=B.extend({},t),s=a.complete,l={opacity:"In"===c?1:0};a.complete=r!==n-1?a.begin=null:function(){s&&s.call(i,i),o&&o.resolver(i)},a.display===R&&(a.display="In"===c?"auto":"none"),U(this,l,a)}}),U}function y(e){return-e.tension*e.x-e.friction*e.v}function b(e,t,r){var n={x:e.x+r.dx*t,v:e.v+r.dv*t,tension:e.tension,friction:e.friction};return{dx:n.v,dv:y(n)}}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,document)});var pumkin=window.pumkin={};!function(t,T,r){pumkin={getTransformValues:function(e,t){var r=e.css("transform").match(/-?[0-9\.]+/g),n=r[0],i={x:r[4]/n,y:r[5]/n};return"scale"===t?n:"translate"===t?i:"raw"===t?r:void 0},checkKey:function(e){return(e=e||t.event).keyCode},svgFallback:function(){T("img[src$='.svg']").each(function(){var e=T(this),t=e.attr("src").replace(".svg",".png");e.attr("src",t)})},normalizeBoxHeights:function(e){var t=0;e.each(function(){t=Math.max(T(this).height(),t)}),e.each(function(){T(this).height(t)})},randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},autoFit:function(e,t,r,n,i,o,a){r=r||0;var s=e.width()-r;t.removeAttr("style");var l=[],c=0,u=[];t.each(function(){var e=T(this);(c+=parseInt(e.css("width"))+r)<=s?u.push(e):(l.push(u),u=new Array(e),c=parseInt(e.css("width"))+r),e.is(":last-child")&&i&&l.push(u)});for(var d=l.length,h=0;h<d;h++){for(var f=l[h].length,p=0,m=0;m<f;m++)p+=parseInt(l[h][m].css("width"))+r;var g=(s-p)/f,v=p/f,y=0;if(a)parseInt(l[0][0].css("width"));for(m=0;m<f;m++){var b,w=parseInt(l[h][m].css("width")),S=w/v,x=a?w+g:w+Math.floor(g*S);if(0===h&&0===m){var C=parseInt(l[h][m].css("height"));b=n?Math.floor(x*(C/w)):C}o?l[h][m].css({width:x}):l[h][m].css({width:x,height:b}),y+=x+r}var k=s-y;l[h][f-1].css("width",parseInt(l[h][f-1].css("width"))+k)}},defineDeviceVariables:function(){var e;return(e={isMobile:"visible"===T("#mobileTester").css("visibility"),isTablet:"visible"===T("#tabletTester").css("visibility"),isTouch:!!r.touch}).isDevice=!(!e.isMobile&&!e.isTablet),e},browserDetection:function(){var e={};return e.isChrome=-1<navigator.userAgent.indexOf("Chrome"),e.isExplorer=-1<navigator.userAgent.indexOf("MSIE"),e.isFirefox=-1<navigator.userAgent.indexOf("Firefox"),e.isSafari=-1<navigator.userAgent.indexOf("Safari"),e.isOpera=-1<navigator.userAgent.indexOf("Presto"),e.isChrome&&e.isSafari&&(e.isSafari=!1),e},makePlaceholders:function(e,r){r=r||"active",T(e).each(function(){var e=T(this),t=e.data().placeholder;e.val(t),""===T.trim(e.val())&&e.val(t).removeClass(r),e.focus(function(){e.val()===t&&e.val("").addClass(r)}).blur(function(){""===T.trim(e.val())&&e.val(t).removeClass(r)})})},intelliLoad:function(e,t,r){r="function"==typeof imagesLoaded&&r,e.each(function(){var e=T(this),t=t||e.data("src");r&&e.css({opacity:0}),e.attr("src")||(e.attr("src",t),r&&e.is("img")&&e.imagesLoaded().done(function(e,t){t.css({opacity:1})}))})}}}(this,this.jQuery,this.Modernizr),function(e,t){var r=e.pumkin;(e.SITE=e.SITE||{}).initGlobal=function(){e.gv={$window:t(e),$document:t(document),$html:t("html"),$body:t("body"),WIDTH:t(e).width(),HEIGHT:t(e).height(),deviceVariables:r.defineDeviceVariables(),browser:r.browserDetection(),$wrapper:t("#wrapper")}}}(this,this.jQuery,this.Modernizr),function(t,n,e,r,i){t.pumkin;var o=t.SITE=t.SITE||{},a=null,s=null;function l(){var r;n(".history-wrapper .loading").addClass("loaded"),r=0,theHistory.forEach(function(e){var t="";t+='<a class="history-object hide-until-loaded" data-object-number="'+e.objectNumber+'" href="'+e.vaCollectionsUrl+'"',t+='title="View this item in the V&amp;A archive">',t+='<div class="history-object-image-holder" ',t+="style=\"background-image: url('"+e.imageUrl+"');\">",t+="</div>",t+='<img src="'+e.imageUrl+'" class="image-holder-for-loading" id="image-holder-'+r+'" >',t+='<div class="history-object-info">',t+="<p><strong>"+e.title+"</strong>, "+e.date+"</p>",t+="<p>"+e.artist+"</p>",t+="</div>",t+="</a",n("#history-objects").append(t),n("#image-holder-"+r).on("load",function(){n(this).parent().addClass("loaded"),n(this).remove()}),r++})}function c(){var e=$textContent.scrollTop();.5*s<e?$objectCaption.addClass("reveal"):$objectCaption.removeClass("reveal"),.5*s<e?$objectHeader.addClass("hide"):$objectHeader.removeClass("hide")}function u(){c()}function d(){a.width(),s=a.height()}function h(){}var f=n.throttle(250,function(){}),p=n.debounce(100,function(){});o.initMain=function(){var e;e=t.gv,a=e.$window,e.$body,e.WIDTH,s=e.HEIGHT,e.$wrapper,e.deviceVariables.isMobile,e.deviceVariables.isTablet,e.deviceVariables.isDevice,e.deviceVariables.isTouch,e.browser,$textContent=n(".text-content-column"),$objectCaption=n(".object-caption"),$downArrow=n(".down-arrow"),$objectHeader=n(".object-header"),$sidePanel=n(".side-panel"),$sidePanelOpenBtn=n(".more"),$sidePanelCloseBtn=n(".close-side-panel"),$historyOpenBtn=n(".history"),$overlayCloseBtn=n(".close-overlay"),$overlay=n(".overlay"),$techInfo=n(".technical-info .text-content"),i.attach(document.body),$sidePanelOpenBtn.click(function(){$sidePanel.hasClass("open")?$sidePanel.removeClass("open"):$sidePanel.addClass("open")}),$sidePanelCloseBtn.click(function(){$sidePanel.removeClass("open")}),$downArrow.click(function(){n(".object-text").velocity("scroll",{duration:700,offset:-100,easing:"ease-in-out",container:$textContent})}),$historyOpenBtn.click(function(){$overlay.hasClass("closed")&&($overlay.removeClass("closed").addClass("open for-history"),l(),$overlay.fadeIn(500))}),$overlayCloseBtn.click(function(){$overlay.fadeOut(500,function(){$overlay.removeClass("open for-history for-warning").addClass("closed")})}),n(".go-to-options").click(function(){chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():t.open(chrome.runtime.getURL("/src/options/index.html"))}),d(),a.on("resize",d),a.on("resize",f),a.on("resize",p),c(),$textContent.on("scroll",u)},o.throwError=function(){$overlay.removeClass("closed").addClass("open for-warning"),$overlay.fadeIn(500)},o.onThrottledResize=h,o.showHistory=l,o.hideHistory=function(){n("#history-objects").text("")}}(this,this.jQuery,this.Modernizr,this.screenfull,this.FastClick);var theSearchTerms,theReadableSearchTerms,chosenSearchTerm,imageId,vaUrl="https://www.vam.ac.uk/api/json/museumobject/",vaMediaUrl="https://media.vam.ac.uk/media/thira/collection_images/",vaCollectionsUrl="https://collections.vam.ac.uk/item/",defaultSearchTerms=["Architecture","Asia","British Galleries","Ceramics","Childhood","Contemporary","Fashion","Jewellery","Furniture","Glass","Metalwork","Paintings","Drawings","Photography","Prints","Books","Sculpture","Textiles","Theatre"],strictSearch=!1,searchCount=0,maxSearchCounts=5,historyCount=0,maxHistoryItems=8,theHistory=new Array;function start(){"undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.sync.get({userSearchTerms:"",strictSearch:"fuzzy",history:[]},function(e){theSearchTerms=0<e.userSearchTerms.length?(theReadableSearchTerms=e.userSearchTerms.toString(),e.userSearchTerms.replace(/ /g,"+").split(",")):(theReadableSearchTerms=defaultSearchTerms.toString(),defaultSearchTerms),"strict"==e.strictSearch&&(strictSearch=!0),0<e.history.length&&(theHistory=e.history),chooseSearchTerm(),makeVaRequest(null,chosenSearchTerm)}):(theReadableSearchTerms=(theSearchTerms=defaultSearchTerms).toString(),chooseSearchTerm(),makeVaRequest(null,chosenSearchTerm))}function chooseSearchTerm(){chosenSearchTerm=theSearchTerms[pumkin.randomNum(0,theSearchTerms.length)]}function addToHistory(e,t,r,n,i,o){var a=new Object;a={objectNumber:e,title:t,date:r,artist:n,imageUrl:i,vaCollectionsUrl:o},theHistory.unshift(a),10<theHistory.length&&theHistory.pop(),chrome.storage.sync.set({history:theHistory})}function makeVaRequest(e,t,r,n,i,o){if(searchCount<maxSearchCounts){searchCount++,e=void 0!==e?e:null,n=void 0!==n?n:"1",t=void 0!==t?t:null,r=void 0!==r?r:null,withDescription="undefined"!=typeof withDescription?withDescription:"1",i=void 0!==i?i:null,quality="undefined"!=typeof quality?quality:null;var a=0;if(null!=r?a=1:null!=e&&(a=2),1==strictSearch){var s=t;t=null}else s=null;var l;l=null!=e?vaUrl+e:vaUrl,$.ajax({type:"get",url:l,dataType:"json",cache:!1,data:{limit:n,offset:r,images:1,quality:quality,pad:withDescription,after:i,objectnamesearch:s,q:t},error:function(e,t,r){}}).done(function(e){processResponse(e,a)}).fail(function(){}).always(function(){})}else SITE.throwError()}function processResponse(e,t){if(0!==t){if(1===t){A=e.records.length;var r=pumkin.randomNum(0,A),n=e.records[r],i=n.fields.object_number;return imageId=n.fields.primary_image_id,void makeVaRequest(i)}var o=e[0].fields,a=(imageId=void 0===o.primary_image_id?imageId:o.primary_image_id).substr(0,6),s=(o.object,""!=o.title?o.title:o.object),l=o.year_start,c=o.slug,u=o.artist,d=o.object_number,h=o.materials_techniques,f=o.public_access_description,p=o.historical_context_note;if(void 0!==o.names[0])var m=o.names[0].fields;if(void 0!==m)var g=void 0===m.death_year||0==m.death_year,v=g||null==m.death_year?"Born ":"",y=g||null==m.death_year?"":" - "+m.death_year,b=""!=(b=null!=m.birth_year&&0!=m.death_year?v+m.birth_year+y:"")&&"I"!=b?"("+b+")":"";var w=vaMediaUrl+a+"/"+imageId+".jpg",S=vaCollectionsUrl+d+"/"+c,x="<strong>"+(s=(s=(s=(s=(s=s.replace(/\^/,"")).replace(/\<i\>/g,"")).replace(/\<\\i\>/g,"")).replace(/\<b\>/g,"")).replace(/\<\\b\>/g,""))+", "+(l=void 0!==l&&null!=l?l:"")+"</strong> &mdash; "+u;if(addToHistory(d,s,l,u,w,S),2===t){f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=f.replace(/Object Type\n/g,"")).replace(/People\n/g,"")).replace(/Place\n/g,"")).replace(/Places\n/g,"")).replace(/Time\n/g,"")).replace(/Design \& Designing\n/g,"")).replace(/Design\n/g,"")).replace(/Subject Depicted\n/g,"")).replace(/Subjects Depicted\n/g,"")).replace(/Materials \& Making\n/g,"")).replace(/Collectors \& Owners\n/g,"")).replace(/Ownership \& Use\n/g,"")).replace(/Trading\n/g,"")).replace(/Trade\n/g,"")).replace(/Historical Associations\n/g,"")).replace(/Other\n/g,"")).replace(/\n\n\n/g,"\n\n")).replace(/\n/g,"<br>")).replace(/\<i\>/g,"")).replace(/\<\\i\>/g,"")).replace(/\<b\>/g,"")).replace(/\<\\b\>/g,"");var C=o.physical_description,k=o.dimensions,T=o.place,E=o.museum_number,P=o.location;C=(C=(C=(C=C.replace(/\<i\>/g,"")).replace(/\<\\i\>/g,"")).replace(/\<b\>/g,"")).replace(/\<\\b\>/g,"");var V=chosenSearchTerm.replace(/\+/g,"");theReadableSearchTerms=(theReadableSearchTerms=theReadableSearchTerms.replace(/,(?=[^\s])/g,", ")).replace(V,'<strong title="This was the selected search term">'+V+"</strong>");var j="https://www.pinterest.com/pin/create/button/";j+="?url="+S,j+="&media="+w,j+="&description="+s,""!=l&&(j+=" ("+T+", "+l+")"),j+=", V%26A Collection";var L="https://twitter.com/intent/tweet";twittertUrl+="?hashtags=worksofart",L+="&original_referer=http://cole-extension.com/",L+="&text="+s,""!=l&&(L+=" ("+T+", "+l+")"),L+=", V%26A Collection, discovered via the Cole browser extension",L+="&via=cole-extension",L+="&url="+S,20<s.length&&s.length<=40&&$("#title").parent().addClass("reduced"),40<s.length&&$("#title").parent().addClass("reduced-more"),$("#creator-name").text(u),$("#dates-alive").text(b),$("#title").html(s),""!=l&&$("#piece-date").text(l),$("#place").html(T),$("#image").attr("src",w),$("#pinterest-button").attr("href",j),$("#twitter-button").attr("href",L),$("#page-link").attr("href",S),$("#object-description").html("<p>"+f+"</p>"),$("#object-context").html("<p>"+p+"</p>"),$("#object-caption").html(x),""!=C?$("#physical-description").html(C):($("#physical-description").hide(),$("#physical-description").prev("h4").hide()),""!=l?$("#tech-info-piece-date").text(l):($("#tech-info-piece-date").hide(),$("#tech-info-piece-date").prev("h4").hide()),""!=u?$("#tech-info-creator-name").text(u):($("#tech-info-creator-name").hide(),$("#tech-info-creator-name").prev("h4").hide()),""!=h?$("#tech-info-materials").html(h):($("#tech-info-materials").hide(),$("#tech-info-materials").prev("h4").hide()),""!=T?$("#tech-info-place").text(T):($("#tech-info-place").hide(),$("#tech-info-place").prev("h4").hide()),""!=k?$("#dimensions").text(k):($("#dimensions").hide(),$("#dimensions").prev("h4").hide()),""!=P?$("#museum-location").text(P):($("#museum-location").hide(),$("#museum-location").prev("h4").hide()),""!=E?$("#museum-number").text(E):($("#museum-number").hide(),$("#museum-number").prev("h4").hide()),$("#search-terms").html(theReadableSearchTerms),SITE.onThrottledResize(),$(".content-placeholder, .hide-until-loaded").addClass("loaded"),$("img.image-hide-until-loaded").load(function(){$(".image-hide-until-loaded, .hide-after-loaded").addClass("loaded")})}}else{var A;if(0<(A=e.records.length)){var F=pumkin.randomNum(0,e.meta.result_count-1);makeVaRequest(null,chosenSearchTerm,F,15)}else chooseSearchTerm(),makeVaRequest(null,chosenSearchTerm)}}function handleError(e,t,r){}start();var _AnalyticsCode="UA-87491627-1",_gaq=_gaq||[];function trackPinterestShare(e){_gaq.push(["_trackEvent",e.target.id,"pinterest-share"])}_gaq.push(["_setAccount",_AnalyticsCode]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ssl.google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),document.addEventListener("DOMContentLoaded",function(){document.getElementById("pinterest-button").addEventListener("click",trackPinterestShare)}),function(e,t){e.pumkin=e.pumkin||{};var r=e.SITE=e.SITE||{};t(function(){r.initGlobal(),r.initMain()})}(this,this.jQuery);